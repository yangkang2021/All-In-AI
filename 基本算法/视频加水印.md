# 给视频加水印耗时吗？


### 直播或者视频会议里给视频加水印
- 加水印，也就是加台标或者文字时间，在音视频行业里非常常见。
- 方法就是简单的内存拷贝+边缘阿尔法融合，台标一般较小，边缘像素也不多，所有计算量小。阿尔法值基于高斯正态分布。
- 阿尔法融合可以用查表法优化，可以不用计算：台标固定，阿尔法融合是唯一变量就是图像，输入输出只有256种可能，直接建立一个（x，y，像素）的三维查找表。
- 阿尔法融合半径要小， 甚至完全可以不要。

### 注意事项
- 首先，不要为了加水印yuv转rgb转来转去。就都用yuv格式实现。如果非要转就只转水印区域
- 其中，不要为了加水印拷贝内存，就原地操作。
- 还有，不要为了加水印解码/编码，那个太太太耗时了。在视频采集后马上就加，视频编码之后后期处理那只能编解码。
- yuv只拷贝除了y=0x10和u/v=0x80的非透明区域：[参考链接](https://blog.csdn.net/magic_frank/article/details/72454184)